<div class="language-dropdown">
    <button class="language-button">
        <img src="Flag_of_the_United_Kingdom_(1-2).png" alt="Flag" class="flags">English
    </button>
    <ul class="language-menu">
        <li><img src="Flag_of_the_United_Kingdom_(1-2).png" alt="English flag" class="flags">English</li>
        <li><img src="Flag_of_Bulgaria.png" alt="Bulgarian flag" class="flags">Bulgarian</li>
    </ul>
</div>

<style>
    .language-dropdown {
        position: relative;
        cursor: pointer;
        display: inline-block;
        border-radius: 10px;
        font-weight: 500;
        color: white;
    }

    .language-button {
        display: flex;
        align-items: center;
        justify-content: center;
        cursor: pointer;
        color: #c8c5c5;
        gap: 0.5rem;
        font-family: "Montserrat", sans-serif;
        font-weight: 500;
        background: transparent;
        border: 2px solid #c8c5c5;
        border-radius: 10px;
        padding: 0.75rem 1.5rem;
        font-size: 1rem;
        letter-spacing: 1px;
        transition: background 0.3s ease, color 0.3s ease;
        animation: floatInRight 0.8s ease forwards;
    }

    .language-dropdown:hover .language-button {
        background: rgb(176, 176, 176);
        color: black;
        border-radius: 10px;
    }

    .language-menu {
        opacity: 0;
        visibility: hidden;
        position: absolute;
        top: calc(100% + 10px);
        /* ‚Üê keeps your gap */
        left: 50%;
        transform: translateX(-50%);
        color: #000000;
        padding: 0.75rem 0.5rem;
        border-radius: 10px;
        background: #c8c5c5;
        transition: opacity 0.3s ease, transform 0.3s ease;
        z-index: 999;
        pointer-events: none;
    }

    .language-dropdown.open .language-menu {
        opacity: 1;
        visibility: visible;
        pointer-events: auto;
    }


    .language-menu li {
        display: flex;
        align-items: center;
        justify-content: center;
        gap: 0.25rem;
        padding: 12px 15px;
        cursor: pointer;
    }

    .language-menu li:hover {
        background-color: rgb(201, 192, 192);
    }

    .flags {
        width: 20px;
        height: 15px;
        border-radius: 2px;
        object-fit: cover;
    }
</style>

<script>
    document.addEventListener('DOMContentLoaded', () => {
        const dropdown = document.querySelector('.language-dropdown');
        const button = dropdown.querySelector('.language-button');
        const menu = dropdown.querySelector('.language-menu');
        const menuItems = menu.querySelectorAll('li');

        // Toggle dropdown open/close on button click
        button.addEventListener('click', (e) => {
            e.stopPropagation();
            dropdown.classList.toggle('open');
        });

        // Close dropdown when clicking outside
        document.addEventListener('click', (e) => {
            if (!dropdown.contains(e.target)) {
                dropdown.classList.remove('open');
            }
        });

        // Handle selecting a language
        menuItems.forEach((item) => {
            item.addEventListener('click', () => {
                const selectedImg = item.querySelector('img');
                const selectedText = item.querySelector('span');

                const buttonImg = button.querySelector('img');
                const buttonText = button.querySelector('span');

                // Update button image and text
                buttonImg.src = selectedImg.src;
                buttonImg.alt = selectedImg.alt;
                buttonText.textContent = selectedText.textContent;

                // Close the menu
                dropdown.classList.remove('open');
            });
        });
    });

</script>